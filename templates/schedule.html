{% extends "base.html" %}

{% block title %}Schedule{% endblock %}

{% block content %}

<style>
  .week-nav{display:flex;align-items:center;justify-content:center;gap:14px;margin:20px 0 14px}
  .week-nav .arrow{font-size:22px;text-decoration:none;padding:2px 10px;border:1px solid #ccc;border-radius:8px}
  .week-nav .arrow.disabled{opacity:.35;pointer-events:none;border-color:transparent}
  .week-nav .wk{font-weight:600}
</style>

<div class="week-nav">
  {% if prev_week %}
    <a class="arrow" href="{{ url_for('show_schedule', league=league, season=season, week=prev_week) }}">&larr;</a>
  {% else %}<span class="arrow disabled">&larr;</span>{% endif %}
  <span class="wk">Week {{ week.replace('week_', '') }}</span>
  {% if next_week %}
    <a class="arrow" href="{{ url_for('show_schedule', league=league, season=season, week=next_week) }}">&rarr;</a>
  {% else %}<span class="arrow disabled">&rarr;</span>{% endif %}
</div>

<h1>üìÖ League Schedule</h1>

<div style="margin-bottom: 20px; font-size: 1.2em; font-weight: bold;">
  Season: {{ season | replace('season_', '') }} &nbsp; &nbsp; Week: {{ week | replace('week_', '') }}
</div>

{% if schedule %}
<table>
    <thead>
      <tr>
        <th>Away</th>
        <th>Score</th>
        <th>Home</th>
        <th>Status</th>
        <!-- <th>Game of the Week</th> -->
      </tr>
    </thead>

    <tbody>
      {% for game in schedule %}
      <tr>
        <td>{{ game.awayName }}</td>
        <td>{{ game.awayScore }} - {{ game.homeScore }}</td>
        <td>{{ game.homeName }}</td>
        <td>
          {% if game.status == 1 %}
            Not Played
          {% elif game.status == 2 %}
            Away Won
          {% elif game.status == 3 %}
            Home Won
          {% else %}
            Unknown
          {% endif %}
        </td>

        <!-- <td>{% if game.gameOfTheWeek %}‚≠ê{% endif %}</td> -->
      </tr>
      {% endfor %}
    </tbody>

</table>
  {% if bye_teams %}
            <h3 style="margin-top: 2rem;">BYE WEEK</h3>
            <ul style="list-style: none; padding: 0;">
                {% for team in bye_teams %}
                    <li>{{ team }}</li>
                {% endfor %}
            </ul>
        {% endif %}
{% else %}
<p>No schedule data available.</p>
{% endif %}
{% endblock %}
